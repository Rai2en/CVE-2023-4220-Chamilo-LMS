from http.client import HTTPSConnection, HTTPConnection
from urllib.parse import urlencode, urlparse
from typing import Union

class ChamiloBigUploadExploit:
    def __init__(self, url: str, action: str) -> None:
        self.url = self.get_connection_type(url)

    @staticmethod
    def get_connection_type(url: str) -> Union[HTTPSConnection, HTTPConnection]:
        parsed_url = urlparse(url)

        if parsed_url.scheme == 'http':
            return HTTPConnection(parsed_url.netloc)
        elif parsed_url.scheme == 'https':
            return HTTPSConnection(parsed_url.netloc)